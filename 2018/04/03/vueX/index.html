<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="邵金东的个人博客" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="如果你在使用 vue.js , 那么我想你可能会对 vue 组件之间的通信感到崩溃 。我在使用基于 vue.js 2.0 的UI框架 ElementUI 开发网站的时候 , 就遇到了这种问题 : 一个页面有很多表单 , 我试图将表单写成一个单文件组件 , 但是表单 ( 子组件 ) 里的数据和页面 ( 父组件 ) 按钮交互的时候 , 它们之间的通讯很麻烦 :123456789101112131415">
<meta property="og:type" content="article">
<meta property="og:title" content="vuex最简单、最详细的入门文档">
<meta property="og:url" content="http://yoursite.com/2018/04/03/vueX/index.html">
<meta property="og:site_name" content="邵金东的个人博客">
<meta property="og:description" content="如果你在使用 vue.js , 那么我想你可能会对 vue 组件之间的通信感到崩溃 。我在使用基于 vue.js 2.0 的UI框架 ElementUI 开发网站的时候 , 就遇到了这种问题 : 一个页面有很多表单 , 我试图将表单写成一个单文件组件 , 但是表单 ( 子组件 ) 里的数据和页面 ( 父组件 ) 按钮交互的时候 , 它们之间的通讯很麻烦 :123456789101112131415">
<meta property="og:updated_time" content="2018-04-03T09:13:48.872Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vuex最简单、最详细的入门文档">
<meta name="twitter:description" content="如果你在使用 vue.js , 那么我想你可能会对 vue 组件之间的通信感到崩溃 。我在使用基于 vue.js 2.0 的UI框架 ElementUI 开发网站的时候 , 就遇到了这种问题 : 一个页面有很多表单 , 我试图将表单写成一个单文件组件 , 但是表单 ( 子组件 ) 里的数据和页面 ( 父组件 ) 按钮交互的时候 , 它们之间的通讯很麻烦 :123456789101112131415">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/04/03/vueX/"/>





  <title>vuex最简单、最详细的入门文档 | 邵金东的个人博客</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>
    <a href="https://github.com/leimite"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">邵金东的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">感谢关注</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/03/vueX/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="邵金东">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="邵金东的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">vuex最简单、最详细的入门文档</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-03T18:03:02+08:00">
                2018-04-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="如果你在使用-vue-js-那么我想你可能会对-vue-组件之间的通信感到崩溃-。"><a href="#如果你在使用-vue-js-那么我想你可能会对-vue-组件之间的通信感到崩溃-。" class="headerlink" title="如果你在使用 vue.js , 那么我想你可能会对 vue 组件之间的通信感到崩溃 。"></a>如果你在使用 vue.js , 那么我想你可能会对 vue 组件之间的通信感到崩溃 。</h2><p>我在使用基于 vue.js 2.0 的UI框架 ElementUI 开发网站的时候 , 就遇到了这种问题 : 一个页面有很多表单 , 我试图将表单写成一个单文件组件 , 但是表单 ( 子组件 ) 里的数据和页面 ( 父组件 ) 按钮交互的时候 , 它们之间的通讯很麻烦 :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">&lt;!--父组件中引入子组件--&gt;</div><div class="line">&lt;template&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;a href=&quot;javascript:;&quot; @click=&quot;show = true&quot;&gt;点击&lt;/a&gt;</div><div class="line">    &lt;t-dialog :show.sync=&quot;show&quot;&gt;&lt;/t-dialog&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">import dialog from &apos;./components/dialog.vue&apos;</div><div class="line">export default &#123;</div><div class="line">  data()&#123;</div><div class="line">    return &#123;</div><div class="line">      show:false</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  components:&#123;</div><div class="line">    &quot;t-dialog&quot;:dialog</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;!--子组件--&gt;</div><div class="line">&lt;template&gt;</div><div class="line">  &lt;el-dialog :visible.sync=&quot;currentShow&quot;&gt;&lt;/el-dialog&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">export default &#123;</div><div class="line">  props:[&apos;show&apos;],</div><div class="line">  computed:&#123;</div><div class="line">      currentShow:&#123;</div><div class="line">          get()&#123;</div><div class="line">              return this.show</div><div class="line">          &#125;,</div><div class="line">          set(val)&#123;</div><div class="line">              this.$emit(&quot;update:show&quot;,val)</div><div class="line">          &#125;</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<h2 id="之所以这么麻烦-是因为父组件可以通过-props-给子组件传递参数-但子组件内却不能直接修改父组件传过来的参数。"><a href="#之所以这么麻烦-是因为父组件可以通过-props-给子组件传递参数-但子组件内却不能直接修改父组件传过来的参数。" class="headerlink" title="之所以这么麻烦 , 是因为父组件可以通过 props 给子组件传递参数 , 但子组件内却不能直接修改父组件传过来的参数。"></a>之所以这么麻烦 , 是因为父组件可以通过 props 给子组件传递参数 , 但子组件内却不能直接修改父组件传过来的参数。</h2><p>这时候 , 使用 vuex 就可以比较方便的解决这种问题了 :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">&lt;!--父组件中引入子组件--&gt;</div><div class="line">&lt;template&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;a href=&quot;javascript:;&quot; @click=&quot;$store.state.show = true&quot;&gt;点击&lt;/a&gt;</div><div class="line">    &lt;t-dialog&gt;&lt;/t-dialog&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">import dialog from &apos;./components/dialog.vue&apos;</div><div class="line">export default &#123;</div><div class="line">  components:&#123;</div><div class="line">    &quot;t-dialog&quot;:dialog</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;!--子组件--&gt;</div><div class="line">&lt;template&gt;</div><div class="line">  &lt;el-dialog :visible.sync=&quot;$store.state.show&quot;&gt;&lt;/el-dialog&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">export default &#123;&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<h2 id="是不是方便了许多-这就是-vuex-最简单的应用-不要被网上其他教程吓到-vuex-原来可以这么简单"><a href="#是不是方便了许多-这就是-vuex-最简单的应用-不要被网上其他教程吓到-vuex-原来可以这么简单" class="headerlink" title="是不是方便了许多 , 这就是 vuex 最简单的应用 , 不要被网上其他教程吓到 , vuex 原来可以这么简单 !"></a>是不是方便了许多 , 这就是 vuex 最简单的应用 , 不要被网上其他教程吓到 , vuex 原来可以这么简单 !</h2><p>安装、使用 vuex<br>首先我们在 vue.js 2.0 开发环境中安装 vuex :<br>npm install vuex –save</p>
<p>然后 , 在 main.js 中加入 :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">import vuex from &apos;vuex&apos;</div><div class="line">Vue.use(vuex);</div><div class="line">var store = new vuex.Store(&#123;//store对象</div><div class="line">    state:&#123;</div><div class="line">        show:false</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h2 id="再然后-在实例化-Vue对象时加入-store-对象"><a href="#再然后-在实例化-Vue对象时加入-store-对象" class="headerlink" title="再然后 , 在实例化 Vue对象时加入 store 对象 :"></a>再然后 , 在实例化 Vue对象时加入 store 对象 :</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">new Vue(&#123;</div><div class="line">  el: &apos;#app&apos;,</div><div class="line">  router,</div><div class="line">  store,//使用store</div><div class="line">  template: &apos;&lt;App/&gt;&apos;,</div><div class="line">  components: &#123; App &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="完成到这一步-上述例子中的-store-state-show-就可以使用了。"><a href="#完成到这一步-上述例子中的-store-state-show-就可以使用了。" class="headerlink" title="完成到这一步 , 上述例子中的 $store.state.show 就可以使用了。"></a>完成到这一步 , 上述例子中的 $store.state.show 就可以使用了。</h2><h2 id="modules"><a href="#modules" class="headerlink" title="modules"></a>modules</h2><h3 id="前面为了方便-我们把-store-对象写在了-main-js-里面-但实际上为了便于日后的维护-我们分开写更好-我们在-src-目录下-新建一个-store-文件夹-然后在里面新建一个-index-js"><a href="#前面为了方便-我们把-store-对象写在了-main-js-里面-但实际上为了便于日后的维护-我们分开写更好-我们在-src-目录下-新建一个-store-文件夹-然后在里面新建一个-index-js" class="headerlink" title="前面为了方便 , 我们把 store 对象写在了 main.js 里面 , 但实际上为了便于日后的维护 , 我们分开写更好 , 我们在 src 目录下 , 新建一个 store 文件夹 , 然后在里面新建一个 index.js :"></a>前面为了方便 , 我们把 store 对象写在了 main.js 里面 , 但实际上为了便于日后的维护 , 我们分开写更好 , 我们在 src 目录下 , 新建一个 store 文件夹 , 然后在里面新建一个 index.js :</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">import Vue from &apos;vue&apos;</div><div class="line">import vuex from &apos;vuex&apos;</div><div class="line">Vue.use(vuex);</div><div class="line"></div><div class="line">export default new vuex.Store(&#123;</div><div class="line">    state:&#123;</div><div class="line">        show:false</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="那么相应的-在-main-js-里的代码应该改成"><a href="#那么相应的-在-main-js-里的代码应该改成" class="headerlink" title="那么相应的 , 在 main.js 里的代码应该改成 :"></a>那么相应的 , 在 main.js 里的代码应该改成 :</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//vuex</div><div class="line">import store from &apos;./store&apos;</div><div class="line"></div><div class="line">new Vue(&#123;</div><div class="line">  el: &apos;#app&apos;,</div><div class="line">  router,</div><div class="line">  store,//使用store</div><div class="line">  template: &apos;&lt;App/&gt;&apos;,</div><div class="line">  components: &#123; App &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="这样就把-store-分离出去了-那么还有一个问题是-这里-store-state-show-无论哪个组件都可以使用-那组件多了之后-状态也多了-这么多状态都堆在-store-文件夹下的-index-js-不好维护怎么办"><a href="#这样就把-store-分离出去了-那么还有一个问题是-这里-store-state-show-无论哪个组件都可以使用-那组件多了之后-状态也多了-这么多状态都堆在-store-文件夹下的-index-js-不好维护怎么办" class="headerlink" title="这样就把 store 分离出去了 , 那么还有一个问题是 : 这里 $store.state.show 无论哪个组件都可以使用 , 那组件多了之后 , 状态也多了 , 这么多状态都堆在 store 文件夹下的 index.js 不好维护怎么办 ?"></a>这样就把 store 分离出去了 , 那么还有一个问题是 : 这里 $store.state.show 无论哪个组件都可以使用 , 那组件多了之后 , 状态也多了 , 这么多状态都堆在 store 文件夹下的 index.js 不好维护怎么办 ?</h3><p>我们可以使用 vuex 的 modules , 把 store 文件夹下的 index.js 改成 :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">import Vue from &apos;vue&apos;</div><div class="line">import vuex from &apos;vuex&apos;</div><div class="line">Vue.use(vuex);</div><div class="line"></div><div class="line">import dialog_store from &apos;../components/dialog_store.js&apos;;//引入某个store对象</div><div class="line"></div><div class="line">export default new vuex.Store(&#123;</div><div class="line">    modules: &#123;</div><div class="line">        dialog: dialog_store</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h3 id="这里我们引用了一个-dialog-store-js-在这个-js-文件里我们就可以单独写-dialog-组件的状态了"><a href="#这里我们引用了一个-dialog-store-js-在这个-js-文件里我们就可以单独写-dialog-组件的状态了" class="headerlink" title="这里我们引用了一个 dialog_store.js , 在这个 js 文件里我们就可以单独写 dialog 组件的状态了 :"></a>这里我们引用了一个 dialog_store.js , 在这个 js 文件里我们就可以单独写 dialog 组件的状态了 :</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">export default &#123;</div><div class="line">    state:&#123;</div><div class="line">        show:false</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="做出这样的修改之后-我们将之前我们使用的-store-state-show-统统改为-store-state-dialog-show-即可。"><a href="#做出这样的修改之后-我们将之前我们使用的-store-state-show-统统改为-store-state-dialog-show-即可。" class="headerlink" title="做出这样的修改之后 , 我们将之前我们使用的 $store.state.show 统统改为 $store.state.dialog.show 即可。"></a>做出这样的修改之后 , 我们将之前我们使用的 $store.state.show 统统改为 $store.state.dialog.show 即可。</h3><p>如果还有其他的组件需要使用 vuex , 就新建一个对应的状态文件 , 然后将他们加入 store 文件夹下的 index.js 文件中的 modules 中。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">modules: &#123;</div><div class="line">    dialog: dialog_store,</div><div class="line">    other: other,//其他组件</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="mutations"><a href="#mutations" class="headerlink" title="mutations"></a>mutations</h2><h3 id="前面我们提到的对话框例子-我们对vuex-的依赖仅仅只有一个-store-state-dialog-show-一个状态-但是如果我们要进行一个操作-需要依赖很多很多个状态-那管理起来又麻烦了"><a href="#前面我们提到的对话框例子-我们对vuex-的依赖仅仅只有一个-store-state-dialog-show-一个状态-但是如果我们要进行一个操作-需要依赖很多很多个状态-那管理起来又麻烦了" class="headerlink" title="前面我们提到的对话框例子 , 我们对vuex 的依赖仅仅只有一个 $store.state.dialog.show 一个状态 , 但是如果我们要进行一个操作 , 需要依赖很多很多个状态 , 那管理起来又麻烦了 !"></a>前面我们提到的对话框例子 , 我们对vuex 的依赖仅仅只有一个 $store.state.dialog.show 一个状态 , 但是如果我们要进行一个操作 , 需要依赖很多很多个状态 , 那管理起来又麻烦了 !</h3><p>mutations 登场 , 问题迎刃而解 :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">export default &#123;</div><div class="line">    state:&#123;//state</div><div class="line">        show:false</div><div class="line">    &#125;,</div><div class="line">    mutations:&#123;</div><div class="line">        switch_dialog(state)&#123;//这里的state对应着上面这个state</div><div class="line">            state.show = state.show?false:true;</div><div class="line">            //你还可以在这里执行其他的操作改变state</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="使用-mutations-后-原先我们的父组件可以改为"><a href="#使用-mutations-后-原先我们的父组件可以改为" class="headerlink" title="使用 mutations 后 , 原先我们的父组件可以改为 :"></a>使用 mutations 后 , 原先我们的父组件可以改为 :</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;div id=&quot;app&quot;&gt;</div><div class="line">    &lt;a href=&quot;javascript:;&quot; @click=&quot;$store.commit(&apos;switch_dialog&apos;)&quot;&gt;点击&lt;/a&gt;</div><div class="line">    &lt;t-dialog&gt;&lt;/t-dialog&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">import dialog from &apos;./components/dialog.vue&apos;</div><div class="line">export default &#123;</div><div class="line">  components:&#123;</div><div class="line">    &quot;t-dialog&quot;:dialog</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="使用-store-commit-‘switch-dialog’-来触发-mutations-中的-switch-dialog-方法。"><a href="#使用-store-commit-‘switch-dialog’-来触发-mutations-中的-switch-dialog-方法。" class="headerlink" title="使用 $store.commit(‘switch_dialog’) 来触发 mutations 中的 switch_dialog 方法。"></a>使用 $store.commit(‘switch_dialog’) 来触发 mutations 中的 switch_dialog 方法。</h3><p>这里需要注意的是:</p>
<h3 id="1-mutations-中的方法是不分组件的-假如你在-dialog-stroe-js-文件中的定义了"><a href="#1-mutations-中的方法是不分组件的-假如你在-dialog-stroe-js-文件中的定义了" class="headerlink" title="1. mutations 中的方法是不分组件的 , 假如你在 dialog_stroe.js 文件中的定义了"></a>1. mutations 中的方法是不分组件的 , 假如你在 dialog_stroe.js 文件中的定义了</h3><p>switch_dialog 方法 , 在其他文件中的一个 switch_dialog 方法 , 那么<br>$store.commit(‘switch_dialog’) 会执行所有的 switch_dialog 方法。</p>
<h3 id="2-mutations里的操作必须是同步的。"><a href="#2-mutations里的操作必须是同步的。" class="headerlink" title="2. mutations里的操作必须是同步的。"></a>2. mutations里的操作必须是同步的。</h3><h3 id="你一定好奇-如果在-mutations-里执行异步操作会发生什么事情-实际上并不会发生什么奇怪的事情-只是官方推荐-不要在-mutationss-里执行异步操作而已。"><a href="#你一定好奇-如果在-mutations-里执行异步操作会发生什么事情-实际上并不会发生什么奇怪的事情-只是官方推荐-不要在-mutationss-里执行异步操作而已。" class="headerlink" title="你一定好奇 , 如果在 mutations 里执行异步操作会发生什么事情 , 实际上并不会发生什么奇怪的事情 , 只是官方推荐 , 不要在 mutationss 里执行异步操作而已。"></a>你一定好奇 , 如果在 mutations 里执行异步操作会发生什么事情 , 实际上并不会发生什么奇怪的事情 , 只是官方推荐 , 不要在 mutationss 里执行异步操作而已。</h3><h2 id="actions"><a href="#actions" class="headerlink" title="actions"></a>actions</h2><h3 id="多个-state-的操作-使用-mutations-会来触发会比较好维护-那么需要执行多个-mutations-就需要用-action-了"><a href="#多个-state-的操作-使用-mutations-会来触发会比较好维护-那么需要执行多个-mutations-就需要用-action-了" class="headerlink" title="多个 state 的操作 , 使用 mutations 会来触发会比较好维护 , 那么需要执行多个 mutations 就需要用 action 了:"></a>多个 state 的操作 , 使用 mutations 会来触发会比较好维护 , 那么需要执行多个 mutations 就需要用 action 了:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">export default &#123;</div><div class="line">    state:&#123;//state</div><div class="line">        show:false</div><div class="line">    &#125;,</div><div class="line">    mutations:&#123;</div><div class="line">        switch_dialog(state)&#123;//这里的state对应着上面这个state</div><div class="line">            state.show = state.show?false:true;</div><div class="line">            //你还可以在这里执行其他的操作改变state</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    actions:&#123;</div><div class="line">        switch_dialog(context)&#123;//这里的context和我们使用的$store拥有相同的对象和方法</div><div class="line">            context.commit(&apos;switch_dialog&apos;);</div><div class="line">            //你还可以在这里触发其他的mutations方法</div><div class="line">        &#125;,</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="那么-在之前的父组件中-我们需要做修改-来触发-action-里的-switch-dialog-方法"><a href="#那么-在之前的父组件中-我们需要做修改-来触发-action-里的-switch-dialog-方法" class="headerlink" title="那么 , 在之前的父组件中 , 我们需要做修改 , 来触发 action 里的 switch_dialog 方法:"></a>那么 , 在之前的父组件中 , 我们需要做修改 , 来触发 action 里的 switch_dialog 方法:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;div id=&quot;app&quot;&gt;</div><div class="line">    &lt;a href=&quot;javascript:;&quot; @click=&quot;$store.dispatch(&apos;switch_dialog&apos;)&quot;&gt;点击&lt;/a&gt;</div><div class="line">    &lt;t-dialog&gt;&lt;/t-dialog&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">import dialog from &apos;./components/dialog.vue&apos;</div><div class="line">export default &#123;</div><div class="line">  components:&#123;</div><div class="line">    &quot;t-dialog&quot;:dialog</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="使用-store-dispatch-‘switch-dialog’-来触发-action-中的-switch-dialog-方法。"><a href="#使用-store-dispatch-‘switch-dialog’-来触发-action-中的-switch-dialog-方法。" class="headerlink" title="使用 $store.dispatch(‘switch_dialog’) 来触发 action 中的 switch_dialog 方法。"></a>使用 $store.dispatch(‘switch_dialog’) 来触发 action 中的 switch_dialog 方法。</h3><h3 id="官方推荐-将异步操作放在-action-中。"><a href="#官方推荐-将异步操作放在-action-中。" class="headerlink" title="官方推荐 , 将异步操作放在 action 中。"></a>官方推荐 , 将异步操作放在 action 中。</h3><h2 id="getters"><a href="#getters" class="headerlink" title="getters"></a>getters</h2><h3 id="getters-和-vue-中的-computed-类似-都是用来计算-state-然后生成新的数据-状态-的。"><a href="#getters-和-vue-中的-computed-类似-都是用来计算-state-然后生成新的数据-状态-的。" class="headerlink" title="getters 和 vue 中的 computed 类似 , 都是用来计算 state 然后生成新的数据 ( 状态 ) 的。"></a>getters 和 vue 中的 computed 类似 , 都是用来计算 state 然后生成新的数据 ( 状态 ) 的。</h3><p>还是前面的例子 , 假如我们需要一个与状态 show 刚好相反的状态 , 使用 vue 中的 computed 可以这样算出来 :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">computed()&#123;</div><div class="line">    not_show()&#123;</div><div class="line">        return !this.$store.state.dialog.show;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="那么-如果很多很多个组件中都需要用到这个与-show-刚好相反的状态-那么我们需要写很多很多个-not-show-使用-getters-就可以解决这种问题"><a href="#那么-如果很多很多个组件中都需要用到这个与-show-刚好相反的状态-那么我们需要写很多很多个-not-show-使用-getters-就可以解决这种问题" class="headerlink" title="那么 , 如果很多很多个组件中都需要用到这个与 show 刚好相反的状态 , 那么我们需要写很多很多个 not_show , 使用 getters 就可以解决这种问题 :"></a>那么 , 如果很多很多个组件中都需要用到这个与 show 刚好相反的状态 , 那么我们需要写很多很多个 not_show , 使用 getters 就可以解决这种问题 :</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">export default &#123;</div><div class="line">    state:&#123;//state</div><div class="line">        show:false</div><div class="line">    &#125;,</div><div class="line">    getters:&#123;</div><div class="line">        not_show(state)&#123;//这里的state对应着上面这个state</div><div class="line">            return !state.show;</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    mutations:&#123;</div><div class="line">        switch_dialog(state)&#123;//这里的state对应着上面这个state</div><div class="line">            state.show = state.show?false:true;</div><div class="line">            //你还可以在这里执行其他的操作改变state</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    actions:&#123;</div><div class="line">        switch_dialog(context)&#123;//这里的context和我们使用的$store拥有相同的对象和方法</div><div class="line">            context.commit(&apos;switch_dialog&apos;);</div><div class="line">            //你还可以在这里触发其他的mutations方法</div><div class="line">        &#125;,</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="我们在组件中使用-store-state-dialog-show-来获得状态-show-类似的-我们可以使用-store-getters-not-show-来获得状态-not-show-。"><a href="#我们在组件中使用-store-state-dialog-show-来获得状态-show-类似的-我们可以使用-store-getters-not-show-来获得状态-not-show-。" class="headerlink" title="我们在组件中使用 $store.state.dialog.show 来获得状态 show , 类似的 , 我们可以使用 $store.getters.not_show 来获得状态 not_show 。"></a>我们在组件中使用 $store.state.dialog.show 来获得状态 show , 类似的 , 我们可以使用 $store.getters.not_show 来获得状态 not_show 。</h3><h3 id="注意-store-getters-not-show-的值是不能直接修改的-需要对应的-state-发生变化才能修改。"><a href="#注意-store-getters-not-show-的值是不能直接修改的-需要对应的-state-发生变化才能修改。" class="headerlink" title="注意 : $store.getters.not_show 的值是不能直接修改的 , 需要对应的 state 发生变化才能修改。"></a>注意 : $store.getters.not_show 的值是不能直接修改的 , 需要对应的 state 发生变化才能修改。</h3><h3 id="mapState、mapGetters、mapActions"><a href="#mapState、mapGetters、mapActions" class="headerlink" title="mapState、mapGetters、mapActions"></a>mapState、mapGetters、mapActions</h3><h3 id="很多时候-store-state-dialog-show-、-store-dispatch-‘switch-dialog’-这种写法又长又臭-很不方便-我们没使用-vuex-的时候-获取一个状态只需要-this-show-执行一个方法只需要-this-switch-dialog-就行了-使用-vuex-使写法变复杂了-使用-mapState、mapGetters、mapActions-就不会这么复杂了。以-mapState-为例"><a href="#很多时候-store-state-dialog-show-、-store-dispatch-‘switch-dialog’-这种写法又长又臭-很不方便-我们没使用-vuex-的时候-获取一个状态只需要-this-show-执行一个方法只需要-this-switch-dialog-就行了-使用-vuex-使写法变复杂了-使用-mapState、mapGetters、mapActions-就不会这么复杂了。以-mapState-为例" class="headerlink" title="很多时候 , $store.state.dialog.show 、$store.dispatch(‘switch_dialog’) 这种写法又长又臭 , 很不方便 , 我们没使用 vuex 的时候 , 获取一个状态只需要 this.show , 执行一个方法只需要 this.switch_dialog 就行了 , 使用 vuex 使写法变复杂了 ?使用 mapState、mapGetters、mapActions 就不会这么复杂了。以 mapState 为例 :"></a>很多时候 , $store.state.dialog.show 、$store.dispatch(‘switch_dialog’) 这种写法又长又臭 , 很不方便 , 我们没使用 vuex 的时候 , 获取一个状态只需要 this.show , 执行一个方法只需要 this.switch_dialog 就行了 , 使用 vuex 使写法变复杂了 ?使用 mapState、mapGetters、mapActions 就不会这么复杂了。以 mapState 为例 :</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;el-dialog :visible.sync=&quot;show&quot;&gt;&lt;/el-dialog&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">import &#123;mapState&#125; from &apos;vuex&apos;;</div><div class="line">export default &#123;</div><div class="line">  computed:&#123;</div><div class="line"></div><div class="line">    //这里的三点叫做 : 扩展运算符</div><div class="line">    ...mapState([</div><div class="line">      show:state=&gt;state.dialog.show</div><div class="line">    ]),</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="相当于"><a href="#相当于" class="headerlink" title="相当于 :"></a>相当于 :</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;el-dialog :visible.sync=&quot;show&quot;&gt;&lt;/el-dialog&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">import &#123;mapState&#125; from &apos;vuex&apos;;</div><div class="line">export default &#123;</div><div class="line">  computed:&#123;</div><div class="line">    show()&#123;</div><div class="line">        return this.$store.state.dialog.show;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="mapGetters、mapActions-和-mapState-类似-mapGetters-一般也写在-computed-中-mapActions-一般写在-methods-中。弄懂上面这些-你可以去看vuex文档了-应该能看懂了。"><a href="#mapGetters、mapActions-和-mapState-类似-mapGetters-一般也写在-computed-中-mapActions-一般写在-methods-中。弄懂上面这些-你可以去看vuex文档了-应该能看懂了。" class="headerlink" title="mapGetters、mapActions 和 mapState 类似 , mapGetters 一般也写在 computed 中 , mapActions 一般写在 methods 中。弄懂上面这些 , 你可以去看vuex文档了 , 应该能看懂了。"></a>mapGetters、mapActions 和 mapState 类似 , mapGetters 一般也写在 computed 中 , mapActions 一般写在 methods 中。弄懂上面这些 , 你可以去看vuex文档了 , 应该能看懂了。</h3>
      
    </div>
    
    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------���Ľ���<i class="fa fa-paw"></i>��л�����Ķ�-------------</div>
    
</div>
      
    </div>
    
    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/03/rem字体使用/" rel="next" title="数组处理方法">
                <i class="fa fa-chevron-left"></i> 数组处理方法
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/04/03/vuex使用/" rel="prev" title="第一次使用vuex">
                第一次使用vuex <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="邵金东" />
          <p class="site-author-name" itemprop="name">邵金东</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">18</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#如果你在使用-vue-js-那么我想你可能会对-vue-组件之间的通信感到崩溃-。"><span class="nav-number">1.</span> <span class="nav-text">如果你在使用 vue.js , 那么我想你可能会对 vue 组件之间的通信感到崩溃 。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#之所以这么麻烦-是因为父组件可以通过-props-给子组件传递参数-但子组件内却不能直接修改父组件传过来的参数。"><span class="nav-number">2.</span> <span class="nav-text">之所以这么麻烦 , 是因为父组件可以通过 props 给子组件传递参数 , 但子组件内却不能直接修改父组件传过来的参数。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#是不是方便了许多-这就是-vuex-最简单的应用-不要被网上其他教程吓到-vuex-原来可以这么简单"><span class="nav-number">3.</span> <span class="nav-text">是不是方便了许多 , 这就是 vuex 最简单的应用 , 不要被网上其他教程吓到 , vuex 原来可以这么简单 !</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#再然后-在实例化-Vue对象时加入-store-对象"><span class="nav-number">4.</span> <span class="nav-text">再然后 , 在实例化 Vue对象时加入 store 对象 :</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#完成到这一步-上述例子中的-store-state-show-就可以使用了。"><span class="nav-number">5.</span> <span class="nav-text">完成到这一步 , 上述例子中的 $store.state.show 就可以使用了。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#modules"><span class="nav-number">6.</span> <span class="nav-text">modules</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#前面为了方便-我们把-store-对象写在了-main-js-里面-但实际上为了便于日后的维护-我们分开写更好-我们在-src-目录下-新建一个-store-文件夹-然后在里面新建一个-index-js"><span class="nav-number">6.1.</span> <span class="nav-text">前面为了方便 , 我们把 store 对象写在了 main.js 里面 , 但实际上为了便于日后的维护 , 我们分开写更好 , 我们在 src 目录下 , 新建一个 store 文件夹 , 然后在里面新建一个 index.js :</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#那么相应的-在-main-js-里的代码应该改成"><span class="nav-number">6.2.</span> <span class="nav-text">那么相应的 , 在 main.js 里的代码应该改成 :</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#这样就把-store-分离出去了-那么还有一个问题是-这里-store-state-show-无论哪个组件都可以使用-那组件多了之后-状态也多了-这么多状态都堆在-store-文件夹下的-index-js-不好维护怎么办"><span class="nav-number">6.3.</span> <span class="nav-text">这样就把 store 分离出去了 , 那么还有一个问题是 : 这里 $store.state.show 无论哪个组件都可以使用 , 那组件多了之后 , 状态也多了 , 这么多状态都堆在 store 文件夹下的 index.js 不好维护怎么办 ?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#这里我们引用了一个-dialog-store-js-在这个-js-文件里我们就可以单独写-dialog-组件的状态了"><span class="nav-number">6.4.</span> <span class="nav-text">这里我们引用了一个 dialog_store.js , 在这个 js 文件里我们就可以单独写 dialog 组件的状态了 :</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#做出这样的修改之后-我们将之前我们使用的-store-state-show-统统改为-store-state-dialog-show-即可。"><span class="nav-number">6.5.</span> <span class="nav-text">做出这样的修改之后 , 我们将之前我们使用的 $store.state.show 统统改为 $store.state.dialog.show 即可。</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mutations"><span class="nav-number">7.</span> <span class="nav-text">mutations</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#前面我们提到的对话框例子-我们对vuex-的依赖仅仅只有一个-store-state-dialog-show-一个状态-但是如果我们要进行一个操作-需要依赖很多很多个状态-那管理起来又麻烦了"><span class="nav-number">7.1.</span> <span class="nav-text">前面我们提到的对话框例子 , 我们对vuex 的依赖仅仅只有一个 $store.state.dialog.show 一个状态 , 但是如果我们要进行一个操作 , 需要依赖很多很多个状态 , 那管理起来又麻烦了 !</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-mutations-后-原先我们的父组件可以改为"><span class="nav-number">7.2.</span> <span class="nav-text">使用 mutations 后 , 原先我们的父组件可以改为 :</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-store-commit-‘switch-dialog’-来触发-mutations-中的-switch-dialog-方法。"><span class="nav-number">7.3.</span> <span class="nav-text">使用 $store.commit(‘switch_dialog’) 来触发 mutations 中的 switch_dialog 方法。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-mutations-中的方法是不分组件的-假如你在-dialog-stroe-js-文件中的定义了"><span class="nav-number">7.4.</span> <span class="nav-text">1. mutations 中的方法是不分组件的 , 假如你在 dialog_stroe.js 文件中的定义了</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-mutations里的操作必须是同步的。"><span class="nav-number">7.5.</span> <span class="nav-text">2. mutations里的操作必须是同步的。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#你一定好奇-如果在-mutations-里执行异步操作会发生什么事情-实际上并不会发生什么奇怪的事情-只是官方推荐-不要在-mutationss-里执行异步操作而已。"><span class="nav-number">7.6.</span> <span class="nav-text">你一定好奇 , 如果在 mutations 里执行异步操作会发生什么事情 , 实际上并不会发生什么奇怪的事情 , 只是官方推荐 , 不要在 mutationss 里执行异步操作而已。</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#actions"><span class="nav-number">8.</span> <span class="nav-text">actions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#多个-state-的操作-使用-mutations-会来触发会比较好维护-那么需要执行多个-mutations-就需要用-action-了"><span class="nav-number">8.1.</span> <span class="nav-text">多个 state 的操作 , 使用 mutations 会来触发会比较好维护 , 那么需要执行多个 mutations 就需要用 action 了:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#那么-在之前的父组件中-我们需要做修改-来触发-action-里的-switch-dialog-方法"><span class="nav-number">8.2.</span> <span class="nav-text">那么 , 在之前的父组件中 , 我们需要做修改 , 来触发 action 里的 switch_dialog 方法:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-store-dispatch-‘switch-dialog’-来触发-action-中的-switch-dialog-方法。"><span class="nav-number">8.3.</span> <span class="nav-text">使用 $store.dispatch(‘switch_dialog’) 来触发 action 中的 switch_dialog 方法。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#官方推荐-将异步操作放在-action-中。"><span class="nav-number">8.4.</span> <span class="nav-text">官方推荐 , 将异步操作放在 action 中。</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#getters"><span class="nav-number">9.</span> <span class="nav-text">getters</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#getters-和-vue-中的-computed-类似-都是用来计算-state-然后生成新的数据-状态-的。"><span class="nav-number">9.1.</span> <span class="nav-text">getters 和 vue 中的 computed 类似 , 都是用来计算 state 然后生成新的数据 ( 状态 ) 的。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#那么-如果很多很多个组件中都需要用到这个与-show-刚好相反的状态-那么我们需要写很多很多个-not-show-使用-getters-就可以解决这种问题"><span class="nav-number">9.2.</span> <span class="nav-text">那么 , 如果很多很多个组件中都需要用到这个与 show 刚好相反的状态 , 那么我们需要写很多很多个 not_show , 使用 getters 就可以解决这种问题 :</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#我们在组件中使用-store-state-dialog-show-来获得状态-show-类似的-我们可以使用-store-getters-not-show-来获得状态-not-show-。"><span class="nav-number">9.3.</span> <span class="nav-text">我们在组件中使用 $store.state.dialog.show 来获得状态 show , 类似的 , 我们可以使用 $store.getters.not_show 来获得状态 not_show 。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注意-store-getters-not-show-的值是不能直接修改的-需要对应的-state-发生变化才能修改。"><span class="nav-number">9.4.</span> <span class="nav-text">注意 : $store.getters.not_show 的值是不能直接修改的 , 需要对应的 state 发生变化才能修改。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mapState、mapGetters、mapActions"><span class="nav-number">9.5.</span> <span class="nav-text">mapState、mapGetters、mapActions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#很多时候-store-state-dialog-show-、-store-dispatch-‘switch-dialog’-这种写法又长又臭-很不方便-我们没使用-vuex-的时候-获取一个状态只需要-this-show-执行一个方法只需要-this-switch-dialog-就行了-使用-vuex-使写法变复杂了-使用-mapState、mapGetters、mapActions-就不会这么复杂了。以-mapState-为例"><span class="nav-number">9.6.</span> <span class="nav-text">很多时候 , $store.state.dialog.show 、$store.dispatch(‘switch_dialog’) 这种写法又长又臭 , 很不方便 , 我们没使用 vuex 的时候 , 获取一个状态只需要 this.show , 执行一个方法只需要 this.switch_dialog 就行了 , 使用 vuex 使写法变复杂了 ?使用 mapState、mapGetters、mapActions 就不会这么复杂了。以 mapState 为例 :</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#相当于"><span class="nav-number">9.7.</span> <span class="nav-text">相当于 :</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mapGetters、mapActions-和-mapState-类似-mapGetters-一般也写在-computed-中-mapActions-一般写在-methods-中。弄懂上面这些-你可以去看vuex文档了-应该能看懂了。"><span class="nav-number">9.8.</span> <span class="nav-text">mapGetters、mapActions 和 mapState 类似 , mapGetters 一般也写在 computed 中 , mapActions 一般写在 methods 中。弄懂上面这些 , 你可以去看vuex文档了 , 应该能看懂了。</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">邵金东</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_pv">
  本站访客数:<span id="busuanzi_value_site_pv"></span>
</span>
</div>

        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  






  





  

  

  

  

  

  

  
  <script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  
</body>
</html>
<!-- ҳ������С���� -->
<script type="text/javascript" src="/js/src/love.js"></script>
